docker network create spring

docker pull mysql:8

docker run -d -p 3307:3306 --name mysql8
           --network spring
           -e MYSQL_ROOT_PASSWORD=sasa
           -e MYSQL_DATABASE=msvc-usuarios
           -v data-mysql:/var/lib/mysql
           --restart=always mysql:8

docker run -d -p 5532:5432 --name postgres14
           --network spring
           -e POSTGRES_PASSWORD=sasa
           -e POSTGRES_DB=msvc-cursos
           -v data-postgres:/var/lib/postgres/data
           --restart=always postgres:14-alpÃ­ne

docker build -t usuarios . -f .\msvc-usuarios\Dockerfile

docker build -t cursos . -f .\msvc-cursos\Dockerfile

docker build -t cursos:latest_v1-2 . -f .\msvc-cursos\Dockerfile

docker build -t usuarios:latest_v1-2 . -f .\msvc-usuarios\Dockerfile

docker run -p 8001:8001 --env-file .\msvc-usuarios\.env -d --rm --name msvc-usuarios --network spring

docker run -p 8002:8002 --env-file .\msvc-cursos\.env -d --rm --name msvc-cursos --network spring

docker stop msvc-usuarios

docker stop msvc-cursos

docker-compose down -v


//minikube
minikube status
minikube start
minikube stop

//si falla ->
minikube delete

//kubectl
kubectl help
kubectl get deployments
kubectl get pods
kubectl describe pods mysql8-59977b5746-8hqc7
kubectl logs mysql8-59977b5746-8hqc7


kubectl delete deployment mysql8

kubectl apply -f .\deployment-mysql.yaml

minikube start --driver=hyperv

//create
kubectl create deployment mysql8 --image=mysql:8 --port=3306


//si hay problemas con ROOT
get pods
kubectl describe pods mysql8-59977b5746-s65lk
kubectl logs mysql8-59977b5746-s65lk

kubectl delete deployment mysql8

//se resuelve crear archivo de configuracion
kubectl create deployment mysql8 --image=mysql:8 --port=3306 --dry-run=client -o yaml > deployment-mysql.yaml

//aplicar archivo yaml creado
kubectl apply -f .\deployment-mysql.yaml

//ayuda
kubectl create -h